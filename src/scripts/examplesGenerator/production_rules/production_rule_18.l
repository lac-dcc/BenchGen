A = new A insert IF(D del new remove CALL(C), new IF(B,contains A));
B = CALL(A B) new remove CALL(IF(new A, CALL(C D)));
C = IF(new contains C IF(B contains contains, A del), CALL(new A remove));
D = new contains IF(new D, insert D C contains) LOOP(new B del);
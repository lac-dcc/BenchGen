A = new A insert del IF(D del new remove CALL(C) del del, new IF(B,contains A) del);
B = CALL(A B) new remove del CALL(IF(new A del, CALL(C D) del)) del del;
C = IF(new contains del C IF(B contains contains, new A del), CALL(new A remove) del);
D = new contains IF(new D del, insert D C contains) LOOP(new B del) del;
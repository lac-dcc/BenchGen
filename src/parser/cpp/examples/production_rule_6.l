A = new insert LOOP(new D) del;
B = CALL(new IF(insert contains,LOOP(C)) A);
C = IF(new insert contains remove, A B);
D = LOOP(new insert B) new IF(del,remove contains);